#include <iostream>
#include <vector>
#include <string>
#include <thread>
#include <chrono>
#include "header/c_omino_packing.h"

using namespace ConsoleOutput;
using namespace PolyominoPuzzle;

int main(){
    // タイトル画面
    std::vector<std::string> title;
    title = {
        "@@@@@@@@      @@@@@@@@@@@  @@@@@@   @@@@  @@@@@@@@@@@@     @@@@@@      @@@@@      @@@@@  @@@@@@@@@@  @@@@@@   @@@@      @@@@@@    ",
        "@@@@   @@@@   @@@@         @@@@@@   @@@@  @@@@@@@@@@@@   @@@@@@@@@@    @@@@@      @@@@@     @@@@     @@@@@@   @@@@    @@@@@@@@@@  ",
        "@@@@     @@@  @@@@         @@@@@@@  @@@@      @@@@      @@@@    @@@@   @@@@@@@  @@@@@@@     @@@@     @@@@@@@  @@@@   @@@@    @@@@ ",
        "@@@@     @@@  @@@@         @@@@@@@  @@@@      @@@@     @@@@      @@@@  @@@@@@@  @@@@@@@     @@@@     @@@@@@@  @@@@  @@@@      @@@@",
        "@@@@   @@@@   @@@@         @@@@ @@@ @@@@      @@@@     @@@@      @@@@  @@@@@@@  @@@@@@@     @@@@     @@@@ @@@ @@@@  @@@@      @@@@",
        "@@@@@@@@      @@@@@@@@@    @@@@ @@@ @@@@      @@@@     @@@@      @@@@  @@@@  @@@@  @@@@     @@@@     @@@@ @@@ @@@@  @@@@      @@@@",
        "@@@@          @@@@         @@@@  @@@@@@@      @@@@     @@@@      @@@@  @@@@  @@@@  @@@@     @@@@     @@@@  @@@@@@@  @@@@      @@@@",
        "@@@@          @@@@         @@@@  @@@@@@@      @@@@      @@@@    @@@@   @@@@  @@@@  @@@@     @@@@     @@@@  @@@@@@@   @@@@    @@@@ ",
        "@@@@          @@@@         @@@@   @@@@@@      @@@@       @@@@@@@@@@    @@@@  @@@@  @@@@     @@@@     @@@@   @@@@@@    @@@@@@@@@@  ",
        "@@@@          @@@@@@@@@@@  @@@@   @@@@@@      @@@@         @@@@@@      @@@@  @@@@  @@@@  @@@@@@@@@@  @@@@   @@@@@@      @@@@@@    ",
        "",
        "",
        "                      @@@@@@@@      @@@@     @@@@  @@@@@@@@@@@@  @@@@@@@@@@@@  @@@@          @@@@@@@@@@@",
        "                      @@@@   @@@@   @@@@     @@@@  @@@@@@@@@@@@  @@@@@@@@@@@@  @@@@          @@@@       ",
        "                      @@@@     @@@  @@@@     @@@@          @@@@          @@@@  @@@@          @@@@       ",
        "                      @@@@     @@@  @@@@     @@@@        @@@@@@        @@@@@@  @@@@          @@@@       ",
        "                      @@@@   @@@@   @@@@     @@@@      @@@@@@        @@@@@@    @@@@          @@@@       ",
        "                      @@@@@@@@      @@@@     @@@@    @@@@@@        @@@@@@      @@@@          @@@@@@@@@  ",
        "                      @@@@          @@@@     @@@@  @@@@@@        @@@@@@        @@@@          @@@@       ",
        "                      @@@@          @@@@     @@@@  @@@@          @@@@          @@@@          @@@@       ",
        "                      @@@@           @@@@   @@@@   @@@@@@@@@@@@  @@@@@@@@@@@@  @@@@          @@@@       ",
        "                      @@@@             @@@@@@@     @@@@@@@@@@@@  @@@@@@@@@@@@  @@@@@@@@@@@@  @@@@@@@@@@@",
        "",
        "",
        "                                                      -  PRESS ANY KEY  -                               "
    };

    clear_print();
    for(int i=0; i<(int)title.size(); ++i){
        std::cout << MovCursor(3+i, 3) << title[i];
        std::this_thread::sleep_for(std::chrono::milliseconds(20));
    }
    getch();

    std::vector<std::string> b = {
        "............",
        "............",
        "............",
        "............",
        "............",
    };

    // b = {
    //     "#.....######",
    //     "#.....######",
    //     "#..........#",
    //     "#..........#",
    //     "#..........#",
    //     "#..........#",
    //     "######.....#",
    //     "######.....#"
    // };

    // b = {
    //     "####..####",
    //     "###....###",
    //     "##......##",
    //     "#........#",
    //     "..........",
    //     "..........",
    //     "#........#",
    //     "##......##",
    //     "###....###",
    //     "####..####",
    // };

    // b = {
    //     "...............",
    //     "...............",
    //     "...............",
    //     "...............",
    //     "...............",
    //     "...............",
    //     "...............",
    //     "...............",
    //     "...............",
    //     "...............",
    //     "...............",
    //     "...............",
    //     "...............",
    //     "...............",
    // };

    PackingPuzzleGame<DPentomino> game(b);
    clear_print();
    do{
        game.draw();
        game.run();
    }while(true);

    return 0;
}
